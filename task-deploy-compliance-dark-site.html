<!DOCTYPE html>
<html lang="zh-cn">
  <head class="at-element-marker">
  <title>在内部部署 Cloud Data sense ，而无需访问 Internet | NetApp Documentation</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
  <meta http-equiv="language" content="en">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="在内部部署 Cloud Data sense ，而无需访问 Internet | NetApp Documentation" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.netapp.com/zh-cn/cloud-manager-data-sense/task-deploy-compliance-dark-site.html" />
	<meta property="og:description" content="完成一些步骤，在无法访问 Internet 的内部站点中的主机上部署 Cloud Data sense 。此类安装非常适合您的安全站点。" />
  <meta property="og:image" content="https://docs.netapp.com/zh-cn/cloud-manager-data-sense/images/logo-tophat-social.png" />
  <meta property="og:image:alt" content="NetApp Logo" />
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="nss-type" content="Product Documentation"/>
  <meta http-equiv="nss-subtype" content="User Guide"/><meta name="description" content="完成一些步骤，在无法访问 Internet 的内部站点中的主机上部署 Cloud Data sense 。此类安装非常适合您的安全站点。">
  <meta name="keywords" content=" cloud compliance, data sense, get started, deploy cloud data sense, web browser connectivity, cloud compliance access, privacy, compliance, on-premises, dark site, upgrade"><!-- Icons -->
  <link rel="icon" href="/zh-cn/cloud-manager-data-sense/images/favicon.ico" type="image/x-icon">

  <!-- RSS Feed --><link rel="alternate" type="application/rss+xml" title="NetApp Documentation" href="/zh-cn/cloud-manager-data-sense/feed.xml"><!-- CSS Definitions: NetApp CSS should be defined after generic css -->

  <!-- Elastic Search -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">

  <!-- Controls AsciiDoctor Admonition Blocks -->
  <link rel="stylesheet" type="text/css" href="/zh-cn/cloud-manager-data-sense/css/font-awesome.min.css">

  <!-- Controls the shadow effect for search dropdown menu -->
  <link rel="stylesheet" href="/zh-cn/cloud-manager-data-sense/css/boxshadowproperties.css">

  <!-- NetApp CSS controls the technical content -->
  <link rel="stylesheet" type="text/css" href="/zh-cn/cloud-manager-data-sense/css/netapp.css">

  <!-- WWW CSS Content -->
  <link rel="stylesheet" type="text/css" href="/zh-cn/cloud-manager-data-sense/css/www-luci-dotcom.min.css">
  <link rel="stylesheet" type="text/css" href="/zh-cn/cloud-manager-data-sense/css/www-netapp-dotcom.css">
  <link rel="stylesheet" href="/zh-cn/cloud-manager-data-sense/css/www-netapp-library-critical.min.css" media="all" >
  <link rel="stylesheet" href="/zh-cn/cloud-manager-data-sense/css/www-netapp-library-non-critical.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="stylesheet" href="/zh-cn/cloud-manager-data-sense/css/www-netapp-library-global-header-footer.min.css">

  <!-- NetApp IE Customizations -->
  <link rel="stylesheet" href='/zh-cn/cloud-manager-data-sense/css/na-utility.css' type='text/css'>
  <link rel="stylesheet" href='/zh-cn/cloud-manager-data-sense/css/na-sidebar.css' type='text/css'>
  <link rel='stylesheet' href='/zh-cn/cloud-manager-data-sense/css/clouddocs.css' type='text/css'>
  <link rel='stylesheet' href='/zh-cn/cloud-manager-data-sense/css/custom-dropdown.css' type='text/css'>
  <link rel='stylesheet' href='/zh-cn/cloud-manager-data-sense/css/na-pagenav.css' type='text/css'>

  
  <link rel="stylesheet" href="/zh-cn/cloud-manager-data-sense/css/landing-page.css" type="text/css">
  <link rel="stylesheet" href="/zh-cn/cloud-manager-data-sense/css/tabbed-blocks.css" type="text/css">
  <!-- Canonical url -->
  <link rel='stylesheet' href='/zh-cn/cloud-manager-data-sense/css/na-feature.css' type='text/css'><!-- Top level site integrations --><script>
    if (document.location.hostname === "docs.netapp.com") {
      var head = document.getElementsByTagName('head')[0];
      var onetrustConsent = document.createElement("script");
      onetrustConsent.type = "text/javascript";
      onetrustConsent.src = "https://cdn.cookielaw.org/consent/72570c5c-fe30-465f-b0e0-b77f7fb4ae34/OtAutoBlock.js";
      head.appendChild(onetrustConsent);

      var onetrustScript = document.createElement("script");
      onetrustScript.type = "text/javascript";
      onetrustScript.src = "https://cdn.cookielaw.org/scripttemplates/otSDKStub.js";
      onetrustScript.charset = "UTF-8";
      onetrustScript.dataset.documentLanguage = "true";
      onetrustScript.dataset.domainScript = "72570c5c-fe30-465f-b0e0-b77f7fb4ae34";
      head.appendChild(onetrustScript);
    }

    function OptanonWrapper() { }

    if (document.location.hostname === "docs.netapp.com") {
      var adobe = document.createElement("script");
      adobe.type = "text/plain";
      adobe.className = "optanon-category-C0002";
      adobe.src = "//assets.adobedtm.com/60287eadf1ee/c284da483c83/launch-e9ff3acac59f.min.js";
      head.appendChild(adobe);

      var google = document.createElement("script");
      google.type = "text/plain";
      google.className = "optanon-category-C0002";
      google.src = "https://www.googletagmanager.com/gtag/js?id=UA-81697994-3";
      head.appendChild(google);

      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-81697994-3');
    }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

  <!-- Used for Product Family Page Sidebar Visibility --><!-- Used to import Promise for IE. Required for SearchKit -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script><script src='/zh-cn/cloud-manager-data-sense/js/na-search.js'></script><script src='/zh-cn/cloud-manager-data-sense/js/na-pagenav.js'></script><link rel='stylesheet' href='/zh-cn/cloud-manager-data-sense/css/prism.css' type='text/css'>
  <link rel='stylesheet' href='/zh-cn/cloud-manager-data-sense/css/prism-netapp.css' type='text/css'>


  <script src='/zh-cn/cloud-manager-data-sense/js/na-utility.js'></script>
  <script src='/zh-cn/cloud-manager-data-sense/js/clouddocs.js'></script>
  <script src='/zh-cn/cloud-manager-data-sense/js/jquery.navgoco.min.js'></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src='/zh-cn/cloud-manager-data-sense/js/toc.js'></script>
  <script src='/zh-cn/cloud-manager-data-sense/js/customscripts.js'></script><script>
      $(document).ready(function() {
          
          var collapseOnInit = true;
          

          var navSettings = {
              "caretHtml": '',
              "accordion": collapseOnInit,
              "openClass": 'active', // open
              "save": false, // leave false or nav highlighting doesn't work right
              "cookie": {
                  "name": 'navgoco',
                  "expires": false,
                  "path": '/'
              },
              "slide": {
                  "duration": 400,
                  "easing": 'swing'
              }
          };

          // Initialize navgoco with default options
          $("#mysidebar").navgoco(navSettings);
          

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', true);
          });

      });

  </script>
  <script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass('col-md-9');
              $("#tg-sb-content").toggleClass('col-md-12');
              $("#tg-sb-icon").toggleClass('fa-toggle-on');
              $("#tg-sb-icon").toggleClass('fa-toggle-off');
          });
      });
  </script>
  <script src='/zh-cn/cloud-manager-data-sense/js/custom-dropdown.js'></script>
  <script src='/zh-cn/cloud-manager-data-sense/js/FileSaver.min.js'></script>
  <script src='/zh-cn/cloud-manager-data-sense/js/jszip-utils.min.js'></script>
  <script src='/zh-cn/cloud-manager-data-sense/js/jszip.min.js'></script>
  <script src='/zh-cn/cloud-manager-data-sense/js/pdf-ux.js'></script>
</head>


  <body class role="document" data-flavor="">
    <div id="page" class="n-off-canvas-menu">
      <div class="n-off-canvas-menu__menu"><!--TODO: Add offcanvas code --></div>
      <div class="n-off-canvas-menu__content-wrap">
        <header class="site-header" id="banner">
  
  <!-- Start Page Toolbar -->
  
  <div class="page-nav-toolbar"><div class="page-nav-contribute"><a target="_blank" href="https://github.com/NetAppDocs/cloud-manager-data-sense/issues/new?body=Page%3A%20[在内部部署 Cloud Data sense ，而无需访问 Internet](https://docs.netapp.com/zh-cn/cloud-manager-data-sense/task-deploy-compliance-dark-site.html)" class="page-nav-contribute-link" role="button"><img src="/zh-cn/cloud-manager-data-sense/images/discuss-sm.svg" alt="" class="github-icon" />请求文档变更</a><a target="_blank" href="https://github.com/NetAppDocs/cloud-manager-data-sense/blob/main/task-deploy-compliance-dark-site.adoc" class="page-nav-contribute-link" role="button"><img src="/zh-cn/cloud-manager-data-sense/images/edit-sm.svg" alt="" class="github-icon" />在 GitHub 上编辑</a><a target="_blank" href="https://docs.netapp.com/us-en/contribute/" class="page-nav-contribute-link"  ><img src="/zh-cn/cloud-manager-data-sense/images/article-sm.svg" alt="" class="github-icon" />提供者指南</a></div>
    <div class="page-nav-container">
      <nav class="page-nav-fixed">
        <div class="page-nav-title">在此页面上</div>
        <div class="page-nav-links">
          <ul class="page-nav-inner" id="page-menu"></ul>
        </div>
      </nav>
    </div>
  </div>
  
  
  <!-- Start top_hat -->
  <div class="n-top-hat">
    <div class="n-container">
      <div class="n-top-hat__cross-property-nav">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/products-a-z/" class="n-top-hat__link">产品和解决方案</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/support-and-training/netapp-university/" class="n-top-hat__link">支持和培训</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://cloud.netapp.com" class="n-top-hat__link">云中心</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://community.netapp.com/" class="n-top-hat__link">社区</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://blog.netapp.com/" class="n-top-hat__link">日志</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://customers.netapp.com/en/" class="n-top-hat__link">客户案例</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">联系人</a>
          </li>
        </ul>
      </div>
      <div class="n-top-hat__utils">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">联系人</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- End top_hat -->

  <!-- Start property bar -->
  <style>
    .n-property-navigation-bar__menus--desktop-experience .n-menu--mega__default-content__heading span {
    color: #34B0FF;
    }
  </style>
  <div class="n-property-bar " data-ntap-ui="sticky-nav">
    <div class="n-property-bar__inner-wrap">
      <div class="n-property-bar__menu-toggle">
        <a href="#" class="n-property-bar__menu-toggle-link">
          <span class="n-property-bar__menu-toggle-text">Menu</span>
          <svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title">
            <title>bars</title>
            <use xlink:href="/zh-cn/cloud-manager-data-sense/common/svg/sprite.svg#bars"></use>
          </svg>
        </a>
      </div>
      <div class="n-property-bar__property-mark ">
        <a href="https://www.netapp.com" class="n-property-bar__property-link">
          <div class="n-property-bar__logo">
            <svg class="n-icon-netapp-mark n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title">
              <title>netapp-mark</title>
              <use xlink:href="/zh-cn/cloud-manager-data-sense/common/svg/sprite.svg#netapp-mark"></use>
            </svg>
            <svg class="n-icon-netapp-logo n-property-bar__logo-svg" aria-labelledby="title">
              <title>netapp-logo</title>
              <use xlink:href="/zh-cn/cloud-manager-data-sense/common/svg/sprite.svg#netapp-logo"></use>
            </svg>
          </div>
        </a>
      </div>

      
      <div class="search-property-bar">
        <div id="search-demo-container" class="searchbox n-property-bar__search">
          <div id="react-search" 
          data-search-html="/zh-cn/cloud-manager-data-sense/search.html"
          data-type="widget" 
          data-placeholder="搜索文档"
          data-no-results-found="未找到与 {query} 匹配的结果。"
          data-did-you-mean="搜索 {suggestion}。"
          data-no-results-found-did-you-mean="未找到与 {query} 匹配的结果。您是否要搜索 {suggestion}?"
          data-results-found="找到 {hitCount} 个结果"
          data-error-message="We're sorry, an issue occurred when fetching your results. Please try again."
          data-error-reset="Reset Search"
          data-sk-es-pf-indexes=""
          data-flavor=""></div>
          <button class="n-property-bar__search-toggle-button" type="button">
            <svg class="n-icon-search n-property-bar__search-toggle-button-icon" aria-labelledby="title">
              <title>search</title>
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/zh-cn/cloud-manager-data-sense/common/svg/sprite.svg#search"></use>
            </svg>
          </button>
        </div>
      </div>
      
    </div>
  </div>
  <div class="n-property-bar__toolbar">
    <!-- Start Language Selector --><div id="language-dropdown" class="custom-dropdown custom-dropdown-lang">
      <div class="custom-dropdown-select custom-dropdown-select-lang">
      <span class="lang-name">简体中文</span>
          <svg class="n-globe__icon" aria-labelledby="title">
            <title>globe</title>
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/zh-cn/cloud-manager-data-sense/common/svg/sprite.svg#globe"></use>
          </svg>
        </button>
      </div>

      <ul class="custom-dropdown-menu"><li>
          <a href="https://docs.netapp.com/zh-cn/cloud-manager-data-sense/task-deploy-compliance-dark-site.html" target="_self"><span translate="no" class="notranslate">简体中文</span></a>
        </li><li>
          <a href="https://docs.netapp.com/us-en/cloud-manager-data-sense/task-deploy-compliance-dark-site.html" target="_self"><span translate="no" class="notranslate">English</span></a>
        </li><li>
          <a href="https://docs.netapp.com/ja-jp/cloud-manager-data-sense/task-deploy-compliance-dark-site.html" target="_self"><span translate="no" class="notranslate">日本語</span></a>
        </li><li>
          <a href="https://docs.netapp.com/zh-tw/cloud-manager-data-sense/task-deploy-compliance-dark-site.html" target="_self"><span translate="no" class="notranslate">繁體中文</span></a>
        </li><li>
          <a href="https://docs.netapp.com/ko-kr/cloud-manager-data-sense/task-deploy-compliance-dark-site.html" target="_self"><span translate="no" class="notranslate">한국어</span></a>
        </li></ul>
    </div><!-- End Language Selector -->

    <div class="n-property-bar__cta"></div>
  </div>
  <script>
    $(function(){
        var currentLocalization = $('html').attr('lang');

        var localizationsDictionary = {
            "en-CA" : "https://www.netapp.com/search/index.aspx?for_cr=canada&",
            "en-IN" : "https://www.netapp.com/search/index.aspx?for_cr=india&",
            "nl-NL" : "https://www.netapp.com/search/index.aspx?for_cr=netherlands&",
            "ru-RU" : "https://www.netapp.com/search/index.aspx?for_cr=russia&",
            "sv-SE" : "https://www.netapp.com/search/index.aspx?for_cr=sweden&",
            "it-IT" : "https://www.netapp.com/search/index.aspx?for_cr=italy&",
            "he-IL" : "https://www.netapp.com/search/index.aspx?for_cr=israel&",
            "ko-KR" : "https://www.netapp.com/search/index.aspx?for_cr=korea&",
            "zh-TW" : "https://www.netapp.com/search/index.aspx?for_cr=taiwan&",
            "en-GB" : "https://www.netapp.com/search/index.aspx?for_cr=unitedkingdom&",
            "en-SG" : "https://www.netapp.com/search/index.aspx?for_cr=asean&",
            "en-AU" : "https://www.netapp.com/search/index.aspx?for_cr=australia&",
            "pt-BR" : "https://www.netapp.com/search/index.aspx?for_cr=brasil&",
            "de-CH" : "https://www.netapp.com/search/index.aspx?for_cr=switzerland&",
            "es-MX" : "https://www.netapp.com/search/index.aspx?for_cr=mexico&"
        };

        if($('html').hasClass('ntap-whitelisted') && localizationsDictionary.hasOwnProperty(currentLocalization)) {
            $('.n-property-bar__property-link').attr('href', '/');
        }
    });
  </script>
  <!-- End property bar -->
</header>


        <main id="n-main-content" class="n-main-content">
          <!-- Start Documentation Content -->
<div class="ie-main">
  <!-- Sidebar Column -->
  
  <div class="col-md-3" id="sidebar-height">
      <div class="n-pdf-header">
  <a id="toggleButtonPdf" class="n-pdf-button" type="button">
    <img src="/zh-cn/cloud-manager-data-sense/images/pdf.png" alt="" width="16" height="16"/>可用的 PDF<span>
    </span>
  </a>
</div>
<div class="n-pdf-body-container">
  <ul id="toggleContainerPdf" class="n-pdf-body" style="display:none;"><li class="pdf-ux-container">
        
        
        
        <a target="_blank" href="/zh-cn/cloud-manager-data-sense/pdfs/fullsite-sidebar/Cloud_Data_sense_文档.pdf" >
          <img src="/zh-cn/cloud-manager-data-sense/images/pdf.png" alt="" width="16" height="16"/>此文档站点的 PDF</a>





    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/zh-cn/cloud-manager-data-sense/pdfs/sidebar/入门.pdf" 
            
          >
            <img src="/zh-cn/cloud-manager-data-sense/images/pdf.png" alt="" width="16" height="16"/>
            入门
          </a>
          



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/zh-cn/cloud-manager-data-sense/pdfs/sidebar/部署_Cloud_Data_sense.pdf" 
            
          >
            <img src="/zh-cn/cloud-manager-data-sense/images/pdf.png" alt="" width="16" height="16"/>
            部署 Cloud Data sense
          </a>
          




    <ul class="subfolders" id="pdf-remove" style="display:none;"><li class="active"></li></ul>
  


        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/zh-cn/cloud-manager-data-sense/pdfs/sidebar/激活对数据源的扫描.pdf" 
            
          >
            <img src="/zh-cn/cloud-manager-data-sense/images/pdf.png" alt="" width="16" height="16"/>
            激活对数据源的扫描
          </a>
          




















        </li>
      </ul>
    

  








        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/zh-cn/cloud-manager-data-sense/pdfs/sidebar/使用_Cloud_Data_sense.pdf" 
            
          >
            <img src="/zh-cn/cloud-manager-data-sense/images/pdf.png" alt="" width="16" height="16"/>
            使用 Cloud Data sense
          </a>
          
















        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/zh-cn/cloud-manager-data-sense/pdfs/sidebar/管理云数据感知.pdf" 
            
          >
            <img src="/zh-cn/cloud-manager-data-sense/images/pdf.png" alt="" width="16" height="16"/>
            管理云数据感知
          </a>
          












        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/zh-cn/cloud-manager-data-sense/pdfs/sidebar/知识和支持.pdf" 
            
          >
            <img src="/zh-cn/cloud-manager-data-sense/images/pdf.png" alt="" width="16" height="16"/>
            知识和支持
          </a>
          




        </li>
      </ul>
    

  



</li></ul>
  <div class="zip-pdf-link-container" style="display: none;">   
    <a href="#" id="zipPdf">
      <img src="/zh-cn/cloud-manager-data-sense/images/pdf-zip.png" alt="" width="16" height="16"/>
      <pre>收集单独的 PDF 文档<span class="zip-size"></span></pre>
    </a><div id="zip-link-popup" class="hide">
    <div class="inner-modal">
        <div class="downloading-progress">
            <div class="spinner"></div>
            <h1>Creating your file...</h1>
            <div>This may take a few minutes. Thanks for your patience.</div>
            <button class="cancel-download-btn" type="button">Cancel</button>
        </div>
        <div class="download-complete hide">
            <div class="done-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"/></svg>
            </div>
            <div>Your file is ready</div>
            <button class="cancel-download-btn" type="button">OK</button>
        </div>
    </div>
</div>
<script>
    $(".cancel-download-btn").click(function(){
        $("#zip-link-popup").addClass("hide");
        $("#zip-link-popup .downloading-progress").removeClass("hide");
        $("#zip-link-popup .download-complete").addClass("hide");
    });
</script></div>
</div>
<script>
  $("#toggleContainerPdf li.active:last-child").parents('ul.subfolders').toggle('display');
  $("#toggleButtonPdf").click(function () {
    $("#toggleContainerPdf").toggle('display');
    $(".n-pdf-body-container .zip-pdf-link-container").toggle('display');
  });
</script><div class="prod-nav" id="product-nav">
  <a target="_self" class="prod-fam-nav" href="https://docs.netapp.com/zh-cn/cloud-manager-family/"><img src="/zh-cn/cloud-manager-data-sense/images/left_arrow.png" alt=""><pre>All Cloud Manager documentation</pre></a>
</div><div class="sidebar-nav-container" id="mysidebardiv">
  <ul id="mysidebar" class="nav"><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/index.html">
        Cloud Data sense 文档
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/whats-new.html">
        发行说明
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> 入门</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/concept-cloud-compliance.html">
        了解 Cloud Data sense
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> 部署 Cloud Data sense</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-deploy-cloud-compliance.html">
        在云中部署
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-deploy-compliance-onprem.html">
        通过 Internet 访问在内部部署
      </a></li><li class="  active "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-deploy-compliance-dark-site.html">
        无需访问 Internet 即可在内部部署
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> 激活对数据源的扫描</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-getting-started-compliance.html">
        Cloud Volumes ONTAP 和内部 ONTAP
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-scanning-anf.html">
        Azure NetApp Files
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-scanning-fsx.html">
        适用于 ONTAP 的 Amazon FSX
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-scanning-s3.html">
        Amazon S3 存储分段
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-scanning-databases.html">
        数据库架构
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-scanning-onedrive.html">
        OneDrive 帐户
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-scanning-sharepoint.html">
        SharePoint 帐户
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-scanning-google-drive.html">
        Google Drive帐户
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-scanning-file-shares.html">
        文件共享
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-scanning-object-storage.html">
        对象存储
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-add-active-directory-datasense.html">
        集成 Active Directory
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-licensing-datasense.html">
        设置许可
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/faq-cloud-compliance.html">
        常见问题解答
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> 使用 Cloud Data sense</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-controlling-governance-data.html">
        查看有关数据的监管详细信息
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-controlling-private-data.html">
        查看有关数据的合规性详细信息
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-org-private-data.html">
        组织您的私有数据
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-managing-highlights.html">
        管理私有数据
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-managing-repo-scanning.html">
        更改扫描设置
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-generating-compliance-reports.html">
        生成报告
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-responding-to-dsar.html">
        响应 DAR
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/reference-private-data-categories.html">
        私有数据的类别
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> 管理云数据感知</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-managing-data-fusion.html">
        添加自定义个人数据标识符
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-view-compliance-actions.html">
        查看数据感知操作的状态
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-audit-data-sense-actions.html">
        审核数据感知操作的历史记录
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-reduce-scan-speed.html">
        降低数据感知扫描速度
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-managing-compliance.html">
        从 Data sense 中删除数据源
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-uninstall-data-sense.html">
        卸载Data sense
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> 知识和支持</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-support-registration.html">
        注册以获得支持
      </a></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/task-get-help.html">
        获取帮助
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/zh-cn/cloud-manager-data-sense/legal-notices.html">
        法律声明
      </a></li></ul>
</div>
<script>
  window.onscroll = () => {
    const value = -40 - (document.body.scrollHeight - (window.innerHeight + document.scrollingElement.scrollTop));
    
    document.getElementById("sidebar-height").style.bottom = Math.max(0,value) + "px";
};
</script>
<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>


  </div>
  

  <div class="ie-content-pane n-doc__component-detail-content n-doc__component-detail-content--show-code">
    <!-- Begin of page container --><article class="page-content">
      <div class="ie-utility">
  <div class="ie-menu">
    <div class="n-breadcrumb">
      <ul class="n-breadcrumb__list">
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com">docs.netapp.com</a>
        </li>
        
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com/us-en/cloud/">云文档</a>
        </li>
        

        
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com/zh-cn/cloud-manager-family/">Cloud Manager</a>
        </li>
        

        <li class="n-breadcrumb__list-item">
          <a href="/zh-cn/cloud-manager-data-sense/">Cloud&nbsp;Data&nbsp;Sense</a>
        </li>

      </ul>
    </div>
    <div style="clear: both"></div><!-- Main needs to have height -->
  </div>
</div>

      <div class="ie-nmt-disclaimer">
  <span>
    <div class="ie-nmt-disclaimer-container">
      <div class="ie-nmt-disclaimer-icon">
        <svg class="luci-icon" aria-hidden="true">
          <use xlink:href="/zh-cn/cloud-manager-data-sense/common/svg/sprite.svg#circle-info">
        </svg>
      </div>
      <div class="ie-nmt-disclaimer-content">
        <span> 简体中文版经机器翻译而成，仅供参考。如与英语版出现任何冲突，应以英语版为准。 </span>
      </div>
      <div style="clear:both;"></div>
    </div>
  </span>
</div><div class="n-doc__component-detail-heading-wrap">
  <h1 class="n-doc__component-detail-heading">在内部部署 Cloud Data sense ，而无需访问 Internet</h1>
</div>


<p class="page-details">
  
    
    <time datetime="2022-06-20 14:16:40 +0000">06/20/2022</time>
    
  

<span>提供者
</span>


</p>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph lead">
<p>完成一些步骤，在无法访问 Internet 的内部站点中的主机上部署 Cloud Data sense 。此类安装非常适合您的安全站点。</p>
</div>
<div class="paragraph">
<p>请注意，您也可以 <a href="task-deploy-compliance-onprem.html">"在可访问 Internet 的内部站点中部署 Data sense"</a>。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="支持的数据源">支持的数据源</h2>
<div class="sectionbody">
<div class="paragraph">
<p>以这种方式安装（有时称为 " 脱机 " 或 " 暗 " 站点）时， Data sense 只能扫描内部站点本地数据源中的数据。此时， Data sense 可以扫描以下本地数据源：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>内部部署 ONTAP 系统</p>
</li>
<li>
<p>数据库架构</p>
</li>
<li>
<p>非 NetApp NFS 或 CIFS 文件共享</p>
</li>
<li>
<p>使用简单存储服务（ S3 ）协议的对象存储</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>如果您需要非常安全的 Cloud Manager 安装，但也希望从 OneDrive 帐户或 SharePoint 帐户扫描本地数据，则可以使用 Data sense 脱机安装程序并提供对一些选定端点的 Internet 访问。请参见 <a href="#SharePoint and OneDrive special requirements">SharePoint 和 OneDrive 的特殊要求</a> 了解详细信息。</p>
</div>
<div class="paragraph">
<p>当前不支持在非公开站点中部署Data sense时扫描Cloud Volumes ONTAP 、Azure NetApp Files 、FSX for ONTAP 、AWS S3或Google Drive帐户。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="限制">限制</h2>
<div class="sectionbody">
<div class="paragraph">
<p>大多数 Data sense 功能都适用于部署在无法访问 Internet 的站点上的情况。但是，不支持某些需要访问 Internet 的功能，例如：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>管理 Microsoft Azure 信息保护（ AIP ）标签</p>
</li>
<li>
<p>在某些关键策略返回结果时向 Cloud Manager 用户发送电子邮件警报</p>
</li>
<li>
<p>为不同用户设置 Cloud Manager 角色（例如，帐户管理员或合规性查看器）</p>
</li>
<li>
<p>使用 Cloud Sync 复制和同步源文件</p>
</li>
<li>
<p>接收用户反馈</p>
</li>
<li>
<p>从 Cloud Manager 自动升级软件</p>
<div class="paragraph">
<p>Cloud Manager Connector 和 Data sense 都需要定期手动升级才能启用新功能。您可以在 Data sense UI 页面底部看到 Data sense 版本。检查 <a href="whats-new.html">"《云数据感知发行说明》"</a> 以查看每个版本中的新功能以及是否需要这些功能。然后，您可以按照以下步骤进行操作 <a href="#Upgrade Data Sense software">升级 Data sense 软件</a>。</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="快速入门">快速入门</h2>
<div class="sectionbody">
<div class="paragraph">
<p>按照以下步骤快速入门，或者向下滚动到其余部分以了解完整详细信息。</p>
</div>
<div class="paragraph quick-margin-para">
<p>如果您尚未在脱机内部站点上安装 Connector ， <a href="https://docs.netapp.com/us-en/cloud-manager-setup-admin/task-install-connector-onprem-no-internet.html" target="_blank" rel="noopener">"部署连接器"</a> 现在在 Linux 主机上。</p>
</div>
<div class="paragraph quick-margin-para">
<p>确保您的 Linux 系统满足 <a href="#Prepare the Linux host system">主机要求</a>，安装了所有必需的软件，并且脱机环境满足所需的要求 <a href="#Verify Cloud Manager and Data Sense prerequisites">权限和连接</a>。</p>
</div>
<div class="paragraph quick-margin-para">
<p>从 NetApp 支持站点下载 Cloud Data sense 软件，并将安装程序文件复制到您计划使用的 Linux 主机。然后启动安装向导并按照提示部署 Cloud Data sense 实例。</p>
</div>
<div class="paragraph quick-margin-para">
<p>Cloud Manager 中 Cloud Data 感知扫描的前 1 TB 数据是免费的。要在此之后继续扫描数据，需要获得 NetApp 的 BYOL 许可证。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="安装-cloud-manager-connector">安装 Cloud Manager Connector</h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果您尚未在脱机内部站点上安装 Cloud Manager Connector ， <a href="https://docs.netapp.com/us-en/cloud-manager-setup-admin/task-install-connector-onprem-no-internet.html" target="_blank" rel="noopener">"部署连接器"</a> 在脱机站点的 Linux 主机上。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="准备-linux-主机系统">准备 Linux 主机系统</h2>
<div class="sectionbody">
<div class="paragraph">
<p>数据感知软件必须在满足特定操作系统要求， RAM 要求，软件要求等要求的主机上运行。与其他应用程序共享的主机不支持数据感知 - 此主机必须是专用主机。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>操作系统：Red Hat Enterprise Linux或CentOS 8.0、8.1或8.4版</p>
<div class="ulist">
<ul>
<li>
<p>可以使用7.8或7.9版、但Linux内核版本必须为4.14或更高版本</p>
</li>
<li>
<p>操作系统必须能够安装 Docker 引擎（例如，根据需要禁用 <em>firewalld</em> 服务）</p>
</li>
</ul>
</div>
</li>
<li>
<p>磁盘： SSD ， 500 GiB 可在 / ，或上使用</p>
<div class="ulist">
<ul>
<li>
<p>/opt 上提供 100 GiB</p>
</li>
<li>
<p>/var 上提供 400 GiB</p>
</li>
<li>
<p>/tmp 上 5 GiB</p>
</li>
</ul>
</div>
</li>
<li>
<p>RAM ： 64 GB （必须在主机上禁用交换内存）</p>
</li>
<li>
<p>CPU ： 16 个核心</p>
<div class="paragraph">
<p>请注意，您可以在 CPU 较少且 RAM 较少的系统上部署 Data sense ，但使用这些系统时会有一些限制。请参见 <a href="concept-cloud-compliance.html#using-a-smaller-instance-type">"使用较小的实例类型"</a> 了解详细信息。</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>在安装 Data sense 之前，必须在主机上安装以下软件：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Docker 引擎版本 19 或更高版本。 <a href="https://docs.docker.com/engine/install/" target="_blank" rel="noopener">"查看安装说明"</a>。</p>
</li>
<li>
<p>Python 3 3.6 或更高版本。 <a href="https://www.python.org/downloads/" target="_blank" rel="noopener">"查看安装说明"</a>。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="验证-cloud-manager-和-data-sense-前提条件">验证 Cloud Manager 和 Data sense 前提条件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在部署 Cloud Data sense 之前，请查看以下前提条件，以确保您的配置受支持。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>确保 Cloud Manager 有权为 Cloud Data sense 实例部署资源并创建安全组。</p>
</li>
<li>
<p>确保 Cloud Manager Connector 可以访问 Data sense 实例。Connector 的安全组必须允许通过端口 443 与 Data sense 实例之间的入站和出站流量。</p>
<div class="paragraph">
<p>通过此连接可以部署 Data sense 实例，并可查看合规性和监管信息。</p>
</div>
<div class="paragraph">
<p>确保端口 8080 已打开，以便您可以在 Cloud Manager 中查看安装进度。</p>
</div>
</li>
<li>
<p>确保您可以保持 Cloud Data sense 正常运行云数据感知实例需要保持运行状态才能持续扫描数据。</p>
</li>
<li>
<p>确保 Web 浏览器连接到 Cloud Data sense启用 Cloud Data sense 后，请确保用户从连接到 Data sense 实例的主机访问 Cloud Manager 界面。</p>
<div class="paragraph">
<p>Data sense 实例使用专用 IP 地址来确保索引数据不可供他人访问。因此，用于访问 Cloud Manager 的 Web 浏览器必须连接到该专用 IP 地址。此连接可以来自与 Data sense 实例位于同一网络中的主机。</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sharepoint-和-onedrive-的特殊要求">SharePoint 和 OneDrive 的特殊要求</h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果 Cloud Manager 和 Data sense 部署在无法访问 Internet 的站点中，则可以通过为一些选定端点提供 Internet 访问来扫描 SharePoint 和 OneDrive 帐户中的本地文件。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">端点</th>
<th class="tableblock halign-left valign-top">目的</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">login.microsoft.com \graph.microsoft.com</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">与 Microsoft 服务器通信以登录到选定的联机服务。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://cloudmanager.cloud.netapp.com" class="bare">https://cloudmanager.cloud.netapp.com</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">与 Cloud Manager 服务进行通信，其中包括 NetApp 帐户。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>只有在首次连接到这些外部服务期间，才需要访问 <em>cloudmanager.cloud.netapp.com</em> 。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="部署-data-sense">部署 Data sense</h2>
<div class="sectionbody">
<div class="paragraph">
<p>对于典型配置，您将在一个主机系统上安装该软件。 <a href="task-deploy-compliance-dark-site.html#single-host-installation-for-typical-configurations">"请在此处查看这些步骤"</a>。</p>
</div>
<div class="paragraph">
<p>对于需要扫描数 PB 数据的大型配置，您可以使用多个主机来提供额外的处理能力。 <a href="task-deploy-compliance-dark-site.html#multi-host-installation-for-large-configurations">"请在此处查看这些步骤"</a>。</p>
</div>
<div class="sect2">
<h3 id="典型配置的单主机安装">典型配置的单主机安装</h3>
<div class="paragraph">
<p>在脱机环境中的单个内部主机上安装 Data sense 软件时，请按照以下步骤进行操作。</p>
</div>
<div class="ulist">
<div class="title">您需要什么？ #8217 ；将需要什么</div>
<ul>
<li>
<p>验证您的 Linux 系统是否满足 <a href="#Prepare the Linux host system">主机要求</a>。</p>
</li>
<li>
<p>确认已安装两个必备软件包（ Docker 引擎和 Python 3 ）。</p>
</li>
<li>
<p>确保您在 Linux 系统上具有 root 权限。</p>
</li>
<li>
<p>验证脱机环境是否满足要求 <a href="#Verify Cloud Manager and Data Sense prerequisites">权限和连接</a>。</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">步骤</div>
<ol class="arabic">
<li>
<p>在已配置 Internet 的系统上，从下载 Cloud Data sense 软件 <a href="https://mysupport.netapp.com/site/products/all/details/cloud-data-sense/downloads-tab/" target="_blank" rel="noopener">"NetApp 支持站点"</a>。您应选择的文件名为 * Datasis-offline-bundle-&lt;version&gt;.tar.gz* 。</p>
</li>
<li>
<p>将安装程序包复制到计划在非公开站点中使用的 Linux 主机。</p>
</li>
<li>
<p>解压缩主机上的安装程序包，例如：</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cli" data-lang="cli">tar -xzf DataSense-offline-bundle-v1.13.1.tar.gz</code></pre>
</div>
</div>
<div class="paragraph">
<p>此操作将提取所需的软件和实际安装文件 * cc_onprem_installer_&lt; 版本 &gt;.tar.gz* 。</p>
</div>
</li>
<li>
<p>启动 Cloud Manager 并单击 * 数据感知 * 选项卡。</p>
</li>
<li>
<p>单击 * 激活数据感知 * 。</p>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_cloud_compliance_deploy_start.png" alt="选择用于激活 Cloud Data sense 的按钮的屏幕截图。"></span></p>
</div>
</li>
<li>
<p>单击 * 部署 * 以启动内部部署向导。</p>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_cloud_compliance_deploy_darksite.png" alt="选择按钮在内部部署 Cloud Data sense 的屏幕截图。"></span></p>
</div>
</li>
<li>
<p>在 <em>Deploy Data sense on premises</em> 对话框中，复制提供的命令并将其粘贴到文本文件中，以便稍后使用，然后单击 * 关闭 * 。例如：</p>
<div class="paragraph">
<p><code>sudo ./install.sh -a 12345 -c 27ag75 -t 2198qq -dredestinm</code></p>
</div>
</li>
<li>
<p>解压缩主机上的安装文件，例如：</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cli" data-lang="cli">tar -xzf cc_onprem_installer_1.13.1.tar.gz</code></pre>
</div>
</div>
</li>
<li>
<p>安装程序提示时，您可以在一系列提示中输入所需值，也可以将所需参数作为命令行参数提供给安装程序：</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">根据提示输入参数：</th>
<th class="tableblock halign-left valign-top">输入完整命令：</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>粘贴您从第 7 步复制的信息： <code>sUdo ./install.sh -a &lt;account_id&gt; -c &lt;agent_id&gt; -t &lt;token&gt; -drestsite</code></p>
</li>
<li>
<p>输入 Data sense 主机的 IP 地址或主机名，以便 Connector 实例可以访问它。</p>
</li>
<li>
<p>输入 Cloud Manager Connector 主机的 IP 地址或主机名，以便 Data sense 实例可以访问它。</p>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">或者，您也可以预先创建整个命令，并提供必要的主机参数： <code>sUdo ./install.sh -a &lt;account_id&gt; -c &lt;agent_id&gt; -t &lt;token&gt; -host &lt;ds_host&gt; -manager-host &lt;cm_host&gt; -no-proxy -drestrsite</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>变量值：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>account_id</em> = NetApp 帐户 ID</p>
</li>
<li>
<p><em>agent_id</em> = 连接器 ID</p>
</li>
<li>
<p><em>token</em> = JWT 用户令牌</p>
</li>
<li>
<p><em>ds_host</em> = Data sense Linux 系统的 IP 地址或主机名。</p>
</li>
<li>
<p><em>cm_host</em> = Cloud Manager Connector 系统的 IP 地址或主机名。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Data sense 安装程序将安装软件包，注册安装并安装 Data sense 。安装可能需要 10 到 20 分钟。</p>
</div>
<div class="paragraph">
<p>如果主机和 Connector 实例之间通过端口 8080 建立连接，则您将在 Cloud Manager 的 Data sense 选项卡中看到安装进度。</p>
</div>
<div class="paragraph">
<p>在配置页面中，您可以选择本地 <a href="task-getting-started-compliance.html">"内部 ONTAP 集群"</a> 和 <a href="task-scanning-databases.html">"数据库"</a> 要扫描的。</p>
</div>
<div class="paragraph">
<p>您也可以 <a href="task-licensing-datasense.html#use-a-cloud-data-sense-byol-license">"为 Cloud Data sense 设置 BYOL 许可"</a> 目前的数字电子钱包页面。在数据量超过 1 TB 之前，不会向您收取任何费用。</p>
</div>
</div>
<div class="sect2">
<h3 id="适用于大型配置的多主机安装">适用于大型配置的多主机安装</h3>
<div class="paragraph">
<p>对于需要扫描数 PB 数据的大型配置，您可以使用多个主机来提供额外的处理能力。使用多个主机系统时，主系统称为 <em>Manager node</em> ，提供额外处理能力的其他系统称为 <em>扫描 程序 nodes</em> 。</p>
</div>
<div class="paragraph">
<p>在脱机环境中的多个内部主机上安装 Data sense 软件时，请按照以下步骤进行操作。</p>
</div>
<div class="ulist">
<div class="title">您需要什么？ #8217 ；将需要什么</div>
<ul>
<li>
<p>验证管理器和扫描程序节点的所有 Linux 系统是否都符合 <a href="#Prepare the Linux host system">主机要求</a>。</p>
</li>
<li>
<p>确认已安装两个必备软件包（ Docker 引擎和 Python 3 ）。</p>
</li>
<li>
<p>确保您在 Linux 系统上具有 root 权限。</p>
</li>
<li>
<p>验证脱机环境是否满足要求 <a href="#Verify Cloud Manager and Data Sense prerequisites">权限和连接</a>。</p>
</li>
<li>
<p>您必须具有计划使用的扫描程序节点主机的 IP 地址。</p>
</li>
<li>
<p>必须在所有主机上启用以下端口和协议：</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 22.2222%;">
<col style="width: 61.1112%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">协议</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2377</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">集群管理通信</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7946</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP ， UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">节点间通信</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4789</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">覆盖网络流量</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">电子服务</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">加密的 IPsec 覆盖网络（ ESP ）流量</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">111.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP ， UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于在主机之间共享文件的 NFS 服务器（需要从每个扫描程序节点到管理器节点）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2049.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP ， UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于在主机之间共享文件的 NFS 服务器（需要从每个扫描程序节点到管理器节点）</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">步骤</div>
<ol class="arabic">
<li>
<p>按照中的步骤 1 至 8 进行操作 <a href="task-deploy-compliance-dark-site.html#deploy-data-sense-on-a-single-host-typical-configuration">"单主机安装"</a> 在管理器节点上。</p>
</li>
<li>
<p>如步骤 9 所示，在安装程序提示时，您可以在一系列提示中输入所需值，也可以将所需参数作为命令行参数提供给安装程序。</p>
<div class="paragraph">
<p>除了可用于单主机安装的变量之外，还会使用一个新选项 * -n &lt;node_IP&gt;* 来指定扫描程序节点的 IP 地址。多个节点 IP 以逗号分隔。</p>
</div>
<div class="paragraph">
<p>例如，此命令会添加 3 个扫描程序节点： <code>sudo ./install.sh -a &lt;account_id&gt; -c &lt;agent_id&gt; -t &lt;token&gt; -host &lt;ds_host&gt; -manager-host &lt;cm_host&gt; * -n &lt;node_ip1&gt; ， &lt;node_ip2&gt; ， &lt;node_ip3&gt;* —无代理站点</code></p>
</div>
</li>
<li>
<p>在管理器节点安装完成之前，将显示一个对话框，其中显示了扫描程序节点所需的安装命令。复制命令并将其保存在文本文件中。例如：</p>
<div class="paragraph">
<p><code>sudo ./node_install.sh -m 10.11.12.13 -t ABCDEF-1-3u69m1-1s35212</code></p>
</div>
</li>
<li>
<p>在 * 每个 * 扫描程序节点主机上：</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>将 Data sense 安装程序文件（ * cc_onprem_installer_&lt;version&gt;.tar.gz* ）复制到主机。</p>
</li>
<li>
<p>解压缩安装程序文件。</p>
</li>
<li>
<p>粘贴并运行在步骤 3 中复制的命令。</p>
<div class="paragraph">
<p>在所有扫描程序节点上完成安装且这些节点已加入管理器节点后，管理器节点安装也会完成。</p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Cloud Data sense 安装程序将完成软件包安装，并注册安装。安装可能需要 15 到 25 分钟。</p>
</div>
<div class="paragraph">
<p>在配置页面中，您可以选择本地 <a href="task-getting-started-compliance.html">"内部 ONTAP 集群"</a> 和本地 <a href="task-scanning-databases.html">"数据库"</a> 要扫描的。</p>
</div>
<div class="paragraph">
<p>您也可以 <a href="task-licensing-datasense.html#use-a-cloud-data-sense-byol-license">"为 Cloud Data sense 设置 BYOL 许可"</a> 目前的数字电子钱包页面。在数据量超过 1 TB 之前，不会向您收取任何费用。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="升级-data-sense-软件">升级 Data sense 软件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>由于 Data sense 软件会定期更新新功能，因此您应按照例行程序定期检查新版本，以确保您使用的是最新的软件和功能。您需要手动升级 Data sense 软件，因为没有 Internet 连接，无法自动执行升级。</p>
</div>
<div class="ulist">
<div class="title">开始之前</div>
<ul>
<li>
<p>数据感知软件一次可升级一个主要版本。例如、如果您安装了1.1.1.x版、则只能升级到1.12.x如果您有几个主要版本，则需要多次升级此软件。</p>
</li>
<li>
<p>确认您的内部连接器软件已升级到最新可用版本。 <a href="https://docs.netapp.com/us-en/cloud-manager-setup-admin/task-managing-connectors.html#upgrade-the-connector-on-prem-without-internet-access" target="_blank" rel="noopener">"请参见 Connector 升级步骤"</a>。</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">步骤</div>
<ol class="arabic">
<li>
<p>在已配置 Internet 的系统上，从下载 Cloud Data sense 软件 <a href="https://mysupport.netapp.com/site/products/all/details/cloud-data-sense/downloads-tab/" target="_blank" rel="noopener">"NetApp 支持站点"</a>。您应选择的文件名为 * Datasis-offline-bundle-&lt;version&gt;.tar.gz* 。</p>
</li>
<li>
<p>将软件包复制到非公开站点中安装了 Data sense 的 Linux 主机。</p>
</li>
<li>
<p>解压缩主机上的软件包，例如：</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cli" data-lang="cli">tar -xvf DataSense-offline-bundle-v1.13.1.tar.gz</code></pre>
</div>
</div>
<div class="paragraph">
<p>此操作将提取安装文件 * cc_onprem_installer_&lt; 版本 &gt;.tar.gz* 。</p>
</div>
</li>
<li>
<p>解压缩主机上的安装文件，例如：</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cli" data-lang="cli">tar -xzf cc_onprem_installer_1.13.1.tar.gz</code></pre>
</div>
</div>
<div class="paragraph">
<p>此操作将提取升级脚本 * 启动 _didssite_upgrade.sh* 以及任何所需的第三方软件。</p>
</div>
</li>
<li>
<p>在主机上运行升级脚本，例如：</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cli" data-lang="cli">start_darksite_upgrade.sh</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Data sense 软件将在主机上进行升级。更新可能需要 5 到 10 分钟。</p>
</div>
<div class="paragraph">
<p>请注意，如果您在多个主机系统上部署了 Data sense 来扫描非常大的配置，则扫描程序节点不需要升级。</p>
</div>
<div class="paragraph">
<p>您可以通过检查 Data sense UI 页面底部的版本来验证软件是否已更新。</p>
</div>
</div>
</div>

    </article>
    <!-- Page Container -->
  </div>

  <div style="clear: both"></div><!-- Main needs to have height --></div>

        </main>

        <footer class="n-footer">
  <div class="n-footer__bottom">
    <div class="n-container">
      <div class="n-footer__bottom-left">
        <div class="n-footer__copyright">
          <ul class="n-footer__copyright-list">
            <li class="n-footer__copyright-link">
              <a href="https://www.netapp.com/us/legal/copyright.aspx">© 2022 NetApp, Inc.</a>
            </li>
            <li class="n-footer__copyright-link">
              <a href="https://www.netapp.com/company/legal/terms-of-use/">条款和条件</a>
            </li>
            <li class="n-footer__copyright-link">
              <a href="https://www.netapp.com/company/legal/privacy-policy/">隐私政策</a>
            </li>
            <li class="n-footer__copyright-link">
              <a href="https://www.netapp.com/company/legal/cookie-policy/">Cookie 政策</a>
            </li>
            <li class="n-footer__copyright-link">
              <a class="ot-sdk-show-settings">Cookie 设置</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="n-footer__bottom-right">
        <div class="n-footer__copyright">
          <ul class="n-footer__copyright-list">
            <li class="n-footer__copyright-link">
              <span class="n-footer__fine-print">想就我们的网站提供反馈?</span>
              <a target="_self" href="javascript:netapp_mailto()">请告诉我们</a>
            </li>
            <li class="n-footer__copyright-link">
              <a href="https://docs.netapp.com/zh-cn/announcements/">通知</a>
            </li>
          </ul>
        </div>
        <div class="n-footer__social-links">
          <ul class="n-footer__social-link-list">
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-blog" href="https://blog.netapp.com"
                target="_blank" title="blog" alt="blog">
                <span class="n-footer__social-link-text">blog</span>
                <svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title">
                  <title>blog@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/zh-cn/cloud-manager-data-sense/common/svg/sprite.svg#blog"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-community" href="https://community.netapp.com/"
                target="_blank" title="community" alt="community">
                <span class="n-footer__social-link-text">community</span>
                <svg class="n-icon-community n-footer__social-link-icon" aria-labelledby="title">
                  <title>community@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/zh-cn/cloud-manager-data-sense/common/svg/sprite.svg#comments"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netapp"
                target="_blank" title="twitter" alt="twitter">
                <span class="n-footer__social-link-text">twitter</span>
                <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
                  <title>twitter@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/zh-cn/cloud-manager-data-sense/common/svg/sprite.svg#twitter"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-facebook" href="https://www.facebook.com/NetApp"
                target="_blank" title="facebook" alt="facebook">
                <span class="n-footer__social-link-text">facebook</span>
                <svg class="n-icon-facebook n-footer__social-link-icon" aria-labelledby="title">
                  <title>facebook@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/zh-cn/cloud-manager-data-sense/common/svg/sprite.svg#facebook"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-linkedin"
                href="https://www.linkedin.com/company/netapp" target="_blank" title="linkedin" alt="linkedin">
                <span class="n-footer__social-link-text">linkedin</span>
                <svg class="n-icon-linkedin n-footer__social-link-icon" aria-labelledby="title">
                  <title>linkedin@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/zh-cn/cloud-manager-data-sense/common/svg/sprite.svg#linkedin"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-youtube"
                href="https://www.youtube.com/user/NetAppTV" target="_blank" title="youtube" alt="youtube">
                <span class="n-footer__social-link-text">youtube</span>
                <svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title">
                  <title>youtube@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/zh-cn/cloud-manager-data-sense/common/svg/sprite.svg#youtube"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-slideshare"
                href="https://www.slideshare.net/NetApp" target="_blank" title="slideshare" alt="slideshare">
                <span class="n-footer__social-link-text">slideshare</span>
                <svg class="n-icon-slideshare n-footer__social-link-icon" aria-labelledby="title">
                  <title>slideshare@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/zh-cn/cloud-manager-data-sense/common/svg/sprite.svg#slideshare"></use>
                </svg>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

      </div><!-- Elasticsearch JS -->
      <script type="text/javascript" src='/zh-cn/cloud-manager-data-sense/js/bundle.js'></script>

      <!-- Syntax Highlighting -->
      <script type="text/javascript" src='/zh-cn/cloud-manager-data-sense/js/prism.js'></script>
      <script type="text/javascript" src='/zh-cn/cloud-manager-data-sense/js/prism-curl.js'></script>
    </div>
    <script>
      document.body.offsetWidth=1903;
      cookieLaw = {}
      cookieLaw.euCountry = "US";
      cookieLaw.invoke = function(){return false;}
    </script>
    <script src='/zh-cn/cloud-manager-data-sense/js/www-ntap.js'></script>
    <script src='/zh-cn/cloud-manager-data-sense/js/tabbed-blocks.js'></script>
    <script src='/zh-cn/cloud-manager-data-sense/js/sidebar.js'></script>
  </body></html>
